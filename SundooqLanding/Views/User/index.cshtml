<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Sundoq-My Account</title>
    <meta name="description" content="">
    <meta name="msapplication-tap-highlight" content="no" />
    <link rel="icon"
        type="image/png"
        href="/img/icon.png">
    <link href="~/js/jquery-ui-1.11.0.custom/jquery-ui.theme.min.css" rel="stylesheet" />
    <link href="~/js/jquery-ui-1.11.0.custom/jquery-ui.min.css" rel="stylesheet" />
    <meta name="viewport" content="user-scalable=0, width=device-width, initial-scale=1, minimum-scale=1.0, maximum-scale=1.0, minimal-ui" />
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab:400,300,700&amp;subset=latin,latin-ext' rel='stylesheet' type='text/css'>
    <!-- Place favicon.ico and apple-touch-icon.png in the root directory -->
    <link rel="stylesheet" href="/less/custom.css">
    <script src="/js/jquery-2.1.0.min.js"></script>
    <script src="~/js/jquery-ui-1.11.0.custom/jquery-ui.min.js"></script>
    <script src="/js/modernizr-2.6.2.min.js"></script>
    <script src="/js/jquery.validate.min.js"></script>
    <script src="/js/jquery.validate.js"></script>
    <script src="/screen_scripts/activate.js"></script>
    <script src="~/js/HegabLoader.js"></script>

    <script>
        var XSX = 0;
        $(function () {
            var availableTags;
            var avSources;

            $.ajax({
                url: '/User/GetAllTags',
                type: 'post',
                traditional: true,
                async: false,
                data: {},
                success: function (data) {
                    availableTags = data;
                    //$.each(data, function (index,Tag) {
                    //    if (Tag != "" && Tag != " ") {

                    //    }
                    //});
                },
                error: function (data) {
                    alert(data.responseText);
                }
            });

            $.ajax({
                url: '/User/GetAllSources',
                type: 'post',
                traditional: true,
                async: false,
                data: {},
                success: function (data) {
                    //$(".btn-color").each(function (index) {
                    //    console.log("This.Text = " + $(this).text());
                    //    console.log("This.Val = " + $(this).val());
                    //});
                    avSources = data;
                },
                error: function (data) {
                    alert(data.responseText);
                }
            });

            $("#tags").autocomplete({
                source: availableTags,
                messages: {
                    noResults: '',
                    results: function () {

                    }
                },
                select: function (a, b) {

                    var Exsit = false;
                    $('.btn-color').each(function () {
                        if ($(this).text().length > 0) {
                            if (b.item.value.toLowerCase().trim() == $(this).text().toLowerCase().trim()) {
                                Exsit = true;
                                return false;
                            }
                            else {
                                Exsit = false;
                            }
                        }
                    });
                    if (Exsit == true) {
                        XSX++;
                        $('#FollowMoreToAppend').append('<a href="javascript:ChangeColor(1,' + XSX + ')" id="NM' + XSX + '" class="btn btn-color">' + b.item.value.trim() + '</a> &nbsp');
                    }
                    else {
                        XSX++;
                        $('#FollowMoreToAppend').append('<a href="javascript:ChangeColor(0,' + XSX + ')" id="NM' + XSX + '" class="btn btn-default">' + b.item.value.trim() + '</a> &nbsp');
                    }
                    $(this).text('');
                }
            });

            $("#sources").autocomplete({
                source: avSources,
                messages: {
                    noResults: '',
                    results: function () {

                    }
                },
                select: function (a, b) {
                    var Exsit = false;
                    $('.btn-color').each(function () {
                        if ($(this).text().length > 0) {
                            if (b.item.value.toLowerCase().trim() == $(this).text().toLowerCase().trim()) {
                                Exsit = true;
                                return false;
                            }
                            else {
                                Exsit = false;
                            }
                        }
                    });
                    if (Exsit == true) {
                        XSX++;
                        $('#FollowSourcesToAppend').append('<a href="javascript:ChangeColor(1,' + XSX + ')" id="NM' + XSX + '" class="btn btn-color">' + b.item.value.trim() + '</a> &nbsp');
                    }
                    else {
                        XSX++;
                        $('#FollowSourcesToAppend').append('<a href="javascript:ChangeColor(0,' + XSX + ')" id="NM' + XSX + '" class="btn btn-default">' + b.item.value.trim() + '</a> &nbsp');
                    }
                    $(this).text('');
                }
            });
        });
    </script>


    <style>
        #ui-id-1 {
            background-color: #fff;
        }

        /*#tags {
            border:none;
            background-color:#c3c3c3;
            border-radius:10px;
            width:50%;
            height:70px;
        }*/
    </style>
</head>
<body class="yo-anim-enabled">
    <img src="~/img/ajax-loader.gif" id="displaybox" style="display: none;" />
    <section id="mini-navbar" class="main-navbar hidden-xs hidden-sm">
        <div class="nav">
            <div class="container">
                <div class="row">
                    <nav class="col-md-12">
                        <div class="logo pull-left">
                            <a href="/">
                                <figure>
                                    <img src="/img/logo.png" alt="MniamTheme" />
                                </figure>
                            </a>
                        </div>
                        <ul class="main-nav pull-right nav-height">
                            <li>
                                <a href="/user/home" data-hover="" class="">Home</a>
                            </li>
                            <li>
                                <a href="/user/index" data-hover="" class="">My Account</a>
                            </li>
                            <li>
                                <a href="/user/history" data-hover="" class="">History</a>
                            </li>
                            <li>
                                <a href="/user/logout" data-hover="" class="">Logout</a>
                            </li>
                        </ul>
                    </nav>
                </div>
            </div>
        </div>
    </section>

    <div id="mobile-nav" class="visible-xs visible-sm">
        <div class="" id="flyout-container">
            <ul id="menu-mobile" class="nav flyout-menu main-nav nav-height">
                <li class="menu-item">
                    <a href="/user/home" data-hover="" class="">Home</a>
                </li>
                <li class="menu-item">
                    <a href="/user/index" data-hover="" class="">My Account</a>
                </li>
                <li class="menu-item">
                    <a href="/user/history" data-hover="" class="">History</a>
                </li>
                <li class="menu-item">
                    <a href="/user/logout" data-hover="" class="">Logout</a>
                </li>
            </ul>
        </div>
        <header>
            <div class="container">
                <ul class="menu-header">
                    <li class="pull-left">
                        <a href="/">
                            <figure>
                                <img src="/img/icon.png" style="height: 40px; margin-top: 20px;" alt="MniamTheme" />
                            </figure>
                        </a>
                    </li>
                    <li class="reorder pull-right"><a href="#" title=""><i class="fa fa-bars"></i></a></li>
                </ul>
            </div>
        </header>
    </div>
    <br />
    <br />
    <br />
    <br />
    <br />
    <br />
    <section id="contact" class="main-section light-section">
        <header class="section-header clearfix">
            <h1 class="pull-right dark-header">My Account</h1>
        </header>
        <div class="container">
            <div class="row">
                <div class="col-md-10 col-md-offset-1 contact-form">
                    <form name="activate-form" class="form" id="activate-form">
                        <div id="msg" class="alert alert-success hidden"></div>
                        <div class="input-wrapper">
                            <input class="contact-form form-name-error" disabled type="text" value="@ViewBag.User.Email" name="email" id="email">
                        </div>
                        <div class="clearfix"></div>
                        @if (@ViewBag.User.Password != null)
                        {
                            <div class="input-wrapper">
                                <input class="contact-form form-subject-error" type="password" value="@ViewBag.User.Password" placeholder="Your password" name="password" id="password">
                            </div>
                            <div class="input-wrapper">
                                <input class="contact-form form-subject-error" type="password" value="@ViewBag.User.Password" placeholder="Confirm password" name="confirm_password" id="confirm_password">
                            </div>
                        }
                        else
                        {
                            <div class="input-wrapper">
                                <input class="contact-form form-subject-error" type="password" value="xyzwxyzw" placeholder="Your password" name="password" id="password">
                            </div>
                            <div class="input-wrapper">
                                <input class="contact-form form-subject-error" type="password" value="xyzwxyzw" placeholder="Confirm password" name="confirm_password" id="confirm_password">
                            </div>
                        }
                        <div class="input-wrapper">
                            <input class="contact-form form-subject-error" value="@ViewBag.User.DateOfBirth.ToString("yyyy-MM-dd")" type="date" placeholder="Your birthdate" name="dob" id="dob">
                        </div>
                        <div class="input-wrapper">
                            <select id="gender" class="contact-form form-subject-error">
                                @if (ViewBag.User.Gender == 0)
                                {
                                    <option selected value="0">Male</option>
                                    <option value="1">Female</option>
                                }
                                else
                                {
                                    <option value="0">Male</option>
                                    <option selected value="1">Female</option>
                                }

                            </select>
                        </div>
                        <br />
                        <br />
                        <div class="col-md-12">
                            <h3>Current Tags</h3>
                            @{
                                string[] SourcesToCompare = ViewBag.Sources;
                                string UserTags = ViewBag.User.Tags;
                                string[] UserTagsArray = UserTags.Split('#');

                                foreach (string tg in UserTagsArray)
                                {
                                    if (tg.Trim() != "")
                                    {
                                        if (!SourcesToCompare.Any(p => p.ToLower().Trim() == tg.ToLower().Trim()))
                                        {
                                <a class="btn btn-color">@tg</a>
                                        }
                                    }
                                }
                            }
                        </div>
                        <div class="col-md-12">
                            <h3>Current Sources</h3>
                            @foreach (string source in ViewBag.Sources)
                            {
                                if (source.Length > 0)
                                {
                                    if (ViewBag.User.Tags.ToLower().Contains(source.ToLower()))
                                    {
                                <a class="btn btn-color">@source</a>
                                    }
                                }
                            }
                        </div>
                        <div class="col-md-12">
                            <h3>More tags</h3>
                            <a class="btn btn-default">Suggested Tag</a>
                            <a class="btn btn-default">Suggested Tag</a>
                            <a class="btn btn-default">Suggested Tag</a>
                            <a class="btn btn-default">Suggested Tag</a>
                            <a class="btn btn-default">Suggested Tag</a>
                        </div>
                        <div class="input-wrapper">
                            <h3>Search more tags</h3>
                            <input class="contact-form form-name-error" style="border: 1px solid #6d6d6d;" id="tags" type="text" value="">
                        </div>
                        <div class="col-md-12">
                            <div id="FollowMoreToAppend"></div>
                        </div>
                        <div class="col-md-12">
                            <h3>More sources</h3>
                            <a class="btn btn-default">Suggested Source</a>
                            <a class="btn btn-default">Suggested Source</a>
                            <a class="btn btn-default">Suggested Source</a>
                            <a class="btn btn-default">Suggested Source</a>
                            <a class="btn btn-default">Suggested Source</a>
                        </div>
                        <div class="input-wrapper">
                            <h3>Search more sources</h3>
                            <input class="contact-form form-name-error" style="border: 1px solid #6d6d6d;" id="sources" type="text" value="">
                        </div>
                        <div class="col-md-12">
                            <div id="FollowSourcesToAppend"></div>
                        </div>
                        @*<div class="input-wrapper">
                            <h3>Technology</h3>
                            @foreach (string tag in ViewBag.Tech)
                            {
                                if (tag.Length > 0)
                                {
                                    if (ViewBag.User.Tags.ToLower().Contains(tag.ToLower()))
                                    {
                                <a class="btn btn-color">@tag</a> 
                                    }
                                    else
                                    {
                                <a class="btn btn-default">@tag</a> 
                                    }

                                }
                            }
                        </div>
                        <div class="input-wrapper">
                            <h3>Business</h3>
                            @foreach (string source in ViewBag.Business)
                            {
                                if (source.Length > 0)
                                {
                                    if (ViewBag.User.Tags.ToLower().Contains(source.ToLower()))
                                    {
                                <a class="btn btn-color">@source</a> 
                                    }
                                    else
                                    {
                                <a class="btn btn-default">@source</a> 
                                    }

                                }
                            }
                        </div>
                        <div class="input-wrapper">
                            <h3>News</h3>
                            @foreach (string source in ViewBag.News)
                            {
                                if (source.Length > 0)
                                {
                                    if (ViewBag.User.Tags.ToLower().Contains(source.ToLower()))
                                    {
                                <a class="btn btn-color">@source</a> 
                                    }
                                    else
                                    {
                                <a class="btn btn-default">@source</a> 
                                    }

                                }
                            }
                        </div>
                        <div class="input-wrapper">
                            <h3>Health</h3>
                            @foreach (string source in ViewBag.Health)
                            {
                                if (source.Length > 0)
                                {
                                    if (ViewBag.User.Tags.ToLower().Contains(source.ToLower()))
                                    {
                                <a class="btn btn-color">@source</a>
                                    }
                                    else
                                    {
                                <a class="btn btn-default">@source</a>
                                    }
                                }
                            }
                        </div>
                        <div class="col-md-12">
                            <h3>Website and Sources</h3>
                            @foreach (string source in ViewBag.Sources)
                            {
                                if (source.Length > 0)
                                {
                                    if (ViewBag.User.Tags.ToLower().Contains(source.ToLower()))
                                    {
                                <a class="btn btn-color">@source</a>
                                    }
                                    else
                                    {
                                <a class="btn btn-default">@source</a>
                                    }
                                }
                            }
                        </div>*@
                        <div class="button-submit btn-submit">
                            <input type="submit" id="upd-form-btn" value="Update" class="btn btn-default pull-right button-send btn-lg">
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </section>

    <section id="footer" class="">
        <div class="container">
            <div class="row">
                <nav class="col-md-12">
                    <ul class="pull-right footer-nav">
                        <li>
                            <a href="index.html" data-target="#about" data-hover="" class="current-menu home-page">About</a>
                        </li>
                        <li>
                            <a href="index.html" data-target="#features" data-hover="" class="home-page">Features</a>
                        </li>
                        <li>
                            <a href="index.html" data-target="#contact" data-hover="" class="home-page">Register</a>
                        </li>
                    </ul>
                    <div class="pull-left copyright">Copyright 2014 © <a href="http://Sundoq.com" title="Sundoq INC">Sundoq</a></div>
                </nav>
            </div>
        </div>
    </section>
    <div class="gallery-wrapper"></div>
    <script src="/js/enquire.js"></script>
    <script src="/js/jquery.imagesloaded.js"></script>
    <script src="/js/waypoints.min.js"></script>
    <script src="/js/owl.carousel.js"></script>
    <script src="/js/tooltip.js"></script>
    <script src="/js/transit.js"></script>
    <script src="/js/transition.js"></script>
    <script src="/js/scrollspy.js"></script>
    <script src="/js/main.js"></script>
</body>
</html>
